{% extends "base.html" %}

{% block title %}{{ user.username }} - Профиль{% endblock %}

{% block extra_css %}

{% endblock %}
<link href="/static/css/style.css">
{% block content %}
<div class="main-content">
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-12 col-lg-16"> <!-- Карточка теперь шире -->
                <div class="profile-container">
                    <!-- Аватар и основная информация -->
                    <div class="text-center mb-4">
                        <img src="{{ user.profile.avatar }}"
                             alt="Аватар" class="user-avatar">
                        <h1 class="mt-3 mb-1">{{ user.username }}</h1>
                        {% if user.profile.first_name or user.profile.last_name %}
                        <h3 class="text-muted">{{ user.profile.first_name or '' }} {{ user.profile.last_name or ''
                            }}</h3>
                        {% endif %}
                        {% if user.email %}
                        <p class="text-muted mb-0">
                            <i class="fas fa-envelope me-1"></i> {{ user.email }}
                        </p>
                        {% endif %}
                    </div>

                    <!-- Личная информация -->
                    <div class="user-info">
                        <div class="info-section">
                            <h4><i class="fas fa-info-circle"></i> Основная информация</h4>

                            {% if user.profile.birth_date %}
                            <div class="info-item">
                                <i class="fas fa-calendar-alt info-icon"></i>
                                <span class="info-label">Дата рождения:</span>
                                <span class="info-value">{{ user.profile.birth_date.strftime('%d.%m.%Y') }}</span>
                            </div>
                            {% endif %}

                            {% if user.profile.gender %}
                            <div class="info-item">
                                <i class="fas fa-venus-mars info-icon"></i>
                                <span class="info-label">Пол:</span>
                                <span class="info-value">{{ user.profile.gender }}</span>
                            </div>
                            {% endif %}

                            {% if user.created_at %}
                            <div class="info-item">
                                <i class="fas fa-clock info-icon"></i>
                                <span class="info-label">Дата регистрации:</span>
                                <span class="info-value">{{ user.created_at.strftime('%d.%m.%Y') }}</span>
                            </div>
                            {% endif %}
                        </div>

                        <!-- Контактная информация -->
                        {% if user.profile.phone_number or user.profile.country or user.profile.city %}
                        <div class="info-section">
                            <h4><i class="fas fa-address-book"></i> Контакты</h4>

                            {% if user.profile.phone_number %}
                            <div class="info-item">
                                <i class="fas fa-phone info-icon"></i>
                                <span class="info-label">Телефон:</span>
                                <span class="info-value">{{ user.profile.phone_number }}</span>
                            </div>
                            {% endif %}

                            {% if user.profile.country %}
                            <div class="info-item">
                                <i class="fas fa-globe info-icon"></i>
                                <span class="info-label">Страна:</span>
                                <span class="info-value">{{ user.profile.country }}</span>
                            </div>
                            {% endif %}

                            {% if user.profile.city %}
                            <div class="info-item">
                                <i class="fas fa-city info-icon"></i>
                                <span class="info-label">Город:</span>
                                <span class="info-value">{{ user.profile.city }}</span>
                            </div>
                            {% endif %}

                            {% if user.profile.street %}
                            <div class="info-item">
                                <i class="fas fa-map-marker-alt info-icon"></i>
                                <span class="info-label">Адрес:</span>
                                <span class="info-value">{{ user.profile.street }}</span>
                            </div>
                            {% endif %}
                        </div>
                        {% endif %}

                        <!-- О себе -->
                        {% if user.profile.bio %}
                        <div class="info-section">
                            <h4><i class="fas fa-quote-left"></i> О себе</h4>
                            <div class="info-item">
                                <i class="fas fa-align-left info-icon"></i>
                                <div class="info-value" style="white-space: pre-line;">{{ user.profile.bio }}</div>
                            </div>
                        </div>
                        {% endif %}
                    </div>

                    <!-- Кнопка редактирования -->
                    {% if is_own_profile %}
                    <div class="text-center mt-4">
                        <a href="" class="btn btn-edit">
                            <i class="fas fa-edit me-2"></i>Редактировать профиль
                        </a>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}